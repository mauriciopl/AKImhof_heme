<html>
<head>
<style>
table, th, td {
    border: 1px solid black;
}
</style> <!-- TODO Put the style for the table in a CSS -->

</head>
<body>
<h1>[Seq]uence based [D]etection of [H]eme [B]inding [M]otifs</h1>
<p>
  The term "heme-binding motif" (HBM) is used to describe a protein sequence stretch that may interact with the heme molecule.
  The evaluation of the binding behavior of a plethora of heme-peptide complexes resulted in the implementation of a prediction tool (SeqD-HBM) for heme-binding
      motifs which eventually led and will perspectively lead to the identification and verification of so far unknown-heme-regulated proteins.
</p>
<p>
  A handful of computational tools are available to predict ligand binding to proteins. While these tools use complex algorithms and base their predictions on
   extracting several novel features, the nature of binding usually described is the strong irreversible binding of heme (mostly within a binding pocket) and
   not the transient binding of and regulation by heme.
</p>
<p>
  The program processes the input sequence through a systematic stepwise validation,
  extracting at each step relevant features from the sequence to produce a tabulated list of the possible heme-coordination sites available for the given sequence.
</p>
<p>
  Besides reporting the potential heme-coordination sites, the program additionally outputs the 9mer motifs associated with the coordination site,
  the charge of the motif and the possibility of a disulfide bridge close to the coordinating atom of the 9mer.
  This comprehensive output further guides the user to make informed judgments on the nature of heme interaction with the protein of interest.
</p>
<p>
  Further improvements to the interface are a work in progress.
</p>
<!--p>
  <b>References:</b>
<ul>
 <li>Tony's paper on motif importance (<a href="brokenlink">question</a>)</li>
</ul>
</p>
  <!--p>
    Cite WESA</p-->
<hr>
<h3>SeqD-HBM Online service:</h3>
<form enctype="multipart/form-data" action="/SeqDHBM/" method="post">
  {% csrf_token %}
  <p>
    <!-- https://docs.djangoproject.com/en/2.1/ref/forms/api/#how-errors-are-displayed -->
    And the errors are:
    {{ errors }}
  </p>
  {% for field in form %}
      <div class="fieldWrapper">
          <p> {{ field.label_tag }} </p>
          <p> {{ field }} </p>
          <font color="fa0000"> {{ field.errors }} </font>
      </div>
  {% endfor %}
  <input type="submit" value="Submit">
</form>
<!--
Examples for website design:
http://pipe.scs.fsu.edu/wesa/
http://www.cbs.dtu.dk/services/NetSurfP/
https://zhanglab.ccmb.med.umich.edu/I-TASSER/
-->

<p id="userresult"></p>

{% if results %}
    {% for result in results %}
        <div>
          <H3>  {{ result.name }} </H3>
          <!--TODO divide the sequence in lines with 70 chars-->
          <p><font size="-1" face= 'Courier New'> {{ result.seq }} </font> </p>
          {% for coord, data in result.result.items %}
              {{ coord }}
              {{ data.ninemer }}
              {{ data.netcharge }}
              {{ data.comment }}
          {% endfor %}
          <!-- TODO use red for fail -->
          {% for warn in result.warnings %}
            <p> {{ warn }}</p>
          {% endfor %}
        </div>
    {% endfor %}
{% endif %}
{{ debug }}
</body>
</html>
